<UserControl x:Class="sistecDesktopRefactored.Views.Tickets.TicketCreateView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:sistecDesktopRefactored.Views.Tickets"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:helpers="clr-namespace:sistecDesktopRefactored.Helpers"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="500"
             Width="500" Height="700">
    <!--#region Prism Window Styles-->
    <prism:Dialog.WindowStyle>
        <Style TargetType="Window">
            <Setter Property="WindowStyle" Value="None"/>
            <Setter Property="ResizeMode" Value="NoResize"/>
            <Setter Property="SizeToContent" Value="WidthAndHeight"/>
            <Setter Property="AllowsTransparency" Value="True"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
    </prism:Dialog.WindowStyle>
    <!--#endregion-->
    
    <Grid>
        <Border Background="{StaticResource brush-lavenderMist}"
            CornerRadius="10">
            <Grid>
                <!--#region Definições do grid-->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <!--#endregion-->

                <!--#region Título da Página-->
                <Border Background="{StaticResource brush-midnightNavy}" 
                    Grid.Row="0" Padding="10"
                    CornerRadius="10 10 0 0">

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Abrir Novo Chamado"
                                FontFamily="{StaticResource MontserratBold}"
                                Foreground="{StaticResource brush-White}"
                                FontSize="20" Margin="10 15 2 0"/>

                            <TextBlock Text="|Formulário"
                                FontFamily="{StaticResource MontserratRegular}"
                                Foreground="{StaticResource brush-peachOrange}"
                                FontSize="14" Margin="10 2 0 15"/>
                        </StackPanel>

                        <Button Grid.Column="1" Margin="10"
                            Width="30" Height="30"
                            Tag="/Images/x.png"
                            Background="Transparent"
                            BorderThickness="0"
                            helpers:ButtonHelper.HoverBackground="#44F80000"
                            Style="{StaticResource IconButton}"
                            Command="{Binding CancelCommand}"/>


                    </Grid>
                </Border>
                <!--#endregion-->

                <Grid Grid.Row="1" Margin="0 10 0 0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!--#region Título -->
                    <StackPanel  Margin="10">
                        <TextBlock Text="Título do Chamado:"
                            Style="{StaticResource TicketCreateTextBlock}"
                            Margin="10 0 0 0"/>

                        <TextBox Text="{Binding TicketTitle, UpdateSourceTrigger=PropertyChanged}"
                            Style="{StaticResource TextBoxBase}"
                            BorderThickness="0.5" Margin="10 5"
                            Height="30"/>
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Prioridade -->
                    <StackPanel Grid.Row="1" Margin="10">
                        <TextBlock Text="Prioridade:" Margin="10 0 0 0"
                             Style="{StaticResource TicketCreateTextBlock}"/>

                        <ComboBox SelectedValue="{Binding Priority}"
                            SelectedValuePath="Tag"
                            Style="{StaticResource ComboBoxFlatStyle}"
                            Height="30" Margin="10 5">
                            <ComboBoxItem Content="Baixa" Tag="1"/>
                            <ComboBoxItem Content="Média" Tag="2"/>
                            <ComboBoxItem Content="Alta" Tag="3"/>
                            <ComboBoxItem Content="Urgente" Tag="4"/>
                        </ComboBox>
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Categoria -->
                    <StackPanel Grid.Row="2" Margin="10">
                        <TextBlock Text="Categoria:" Margin="10 0 0 0 "
                             Style="{StaticResource TicketCreateTextBlock}"/>

                        <ComboBox SelectedValue="{Binding SelectedCategory, 
                            Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedValuePath="Tag" Margin="10 5"
                            IsSynchronizedWithCurrentItem="True"
                            Height="30" SelectionChanged="ComboBox_SelectionChanged"
                            Style="{StaticResource ComboBoxFlatStyle}">
                            <ComboBoxItem Content="Hardware" Tag="hardware"/>
                            <ComboBoxItem Content="Software" Tag="software"/>
                            <ComboBoxItem Content="Rede" Tag="rede"/>
                            <ComboBoxItem Content="Acesso" Tag="acesso"/>
                            <ComboBoxItem Content="Email" Tag="email"/>
                            <ComboBoxItem Content="Outros" Tag="outros"/>
                        </ComboBox>
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Problema-->
                    <StackPanel Grid.Row="3" Margin="10">
                        <TextBlock Text="Problema:" Margin="10 0 0 0"
                             Style="{StaticResource TicketCreateTextBlock}"/>
                        <ComboBox ItemsSource="{Binding ProblemsList}"
                        SelectedItem="{Binding SelectedProblem}"
                        DisplayMemberPath="Label"
                        SelectedValuePath="Value"
                        Height="30" Margin="10 0 10 0"
                                  Style="{StaticResource ComboBoxFlatStyle}">
                        </ComboBox>
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Descrição -->
                    <StackPanel Grid.Row="4" Margin="10">
                        <TextBlock Text="Descrição:" Margin="10 0 0 0"
                             Style="{StaticResource TicketCreateTextBlock}"/>

                        <TextBox Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                            Style="{StaticResource TextBoxBase}"
                            BorderThickness="0.5" Margin="10 5"
                            TextWrapping="Wrap" Height="100"
                            Padding="3"
                            TextAlignment="Left"
                            VerticalContentAlignment="Top"
                            AcceptsReturn="True"
                            VerticalScrollBarVisibility="Auto"/>
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Mensagem de erro -->
                    <TextBlock Grid.Row="5"
                        Text="{Binding ErrorMessage}"
                        FontFamily="{StaticResource MontserratBold}"    
                        Foreground="Red"
                        TextWrapping="Wrap"
                        Margin="10"/>
                    <!--#endregion-->

                    <!--#region Botões -->
                    <StackPanel Grid.Row="6" Orientation="Horizontal" 
                        HorizontalAlignment="Right" Margin="10">
                        <Button Content="Cancelar" 
                            Width="auto" 
                            Height="40"
                            Margin="0,0,10,0"
                            BorderThickness="0"
                            Tag="/Images/x.png"
                            helpers:ButtonHelper.HoverBackground="#4FEC0000"
                            Foreground="{StaticResource brush-midnightNavy}"
                            FontFamily="{StaticResource MontserratBold}"
                            Command="{Binding CancelCommand}"
                            Style="{StaticResource ButtonImage}"/>
                        <Button Content="Criar Chamado" 
                            Width="auto" 
                            Height="40"
                            Background="#4CAF50"
                            Foreground="White"
                            BorderThickness="0"
                            Tag="/Images/circle-check.png"
                            helpers:ButtonHelper.HoverBackground="#BC4CAF50"
                            FontFamily="{StaticResource MontserratBold}"
                            Command="{Binding CreateTicketCommand}"
                            Style="{StaticResource ButtonImage}"/>

                    </StackPanel>
                    <!--#endregion-->

                </Grid>

            </Grid>
        </Border>
    </Grid>
</UserControl>
