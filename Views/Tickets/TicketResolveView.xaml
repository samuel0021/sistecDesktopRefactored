<UserControl x:Class="sistecDesktopRefactored.Views.Tickets.TicketResolveView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:sistecDesktopRefactored.Views.Tickets"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:helpers="clr-namespace:sistecDesktopRefactored.Helpers"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="550"
             Width="550" Height="600">

    <!--#region Prism Window Styles-->
    <prism:Dialog.WindowStyle>
        <Style TargetType="Window">
            <Setter Property="WindowStyle" Value="None"/>
            <Setter Property="ResizeMode" Value="NoResize"/>
            <Setter Property="SizeToContent" Value="WidthAndHeight"/>
            <Setter Property="AllowsTransparency" Value="True"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
    </prism:Dialog.WindowStyle>

    <!--#endregion-->
    <Grid>
        <Border Background="{StaticResource brush-lavenderMist}"
            CornerRadius="10">

            <Grid>
                <!--#region Definições do grid-->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <!--#endregion-->

                <!--#region Cabeçalho-->
                <Border Background="{StaticResource brush-green}" 
                    Grid.Row="0" Padding="10"
                    CornerRadius="10 10 0 0">

                    <Grid>
                        <!--#region Definições do grid-->
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>
                        <!--#endregion-->
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Images/circle-check.png" 
                                VerticalAlignment="Center"/>

                            <StackPanel>
                                <TextBlock Text="Resolver Chamado"
                                FontFamily="{StaticResource MontserratBold}"
                                Foreground="{StaticResource brush-White}"
                                FontSize="20" Margin="10 15 2 0"/>

                                <TextBlock Text="Como você resolveu esse problema?"
                                FontFamily="{StaticResource MontserratRegular}"
                                Foreground="{StaticResource brush-White}"
                                FontSize="14" Margin="10 2 0 15"/>
                            </StackPanel>
                        </StackPanel>

                        <Button Grid.Column="1" Margin="10"
                            Width="30" Height="30"
                            Tag="/Images/x.png"
                            Background="Transparent"
                            BorderThickness="0"
                            helpers:ButtonHelper.HoverBackground="#44F80000"
                            Style="{StaticResource IconButton}"
                            Command="{Binding CancelCommand}"/>
                    </Grid>
                </Border>
                <!--#endregion-->

                <Grid Grid.Row="1">
                    <!--#region Definições do grid-->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <!--#endregion-->

                    <Border Background="#75B9B7CC" Margin="10"
                            CornerRadius="5" Padding="10"   
                            Width="500" Height="auto">
                        <StackPanel>
                            <TextBlock Text="Informações do Chamado"
                                FontSize="12"
                                Style="{StaticResource MyTextblock}"/>

                            <StackPanel Orientation="Horizontal"  
                                Margin="0 10 0 0">

                                <TextBlock Text="ID: "
                                    FontSize="12"
                                    FontFamily="{StaticResource MontserratRegular}"
                                    Style="{StaticResource MyTextblock}"/>

                                <TextBlock Text="{Binding TicketId}"
                                    FontSize="12"
                                    Style="{StaticResource MyTextblock}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Categoria: "
                                    FontSize="12"
                                    FontFamily="{StaticResource MontserratRegular}"
                                    Style="{StaticResource MyTextblock}"/>

                                <TextBlock Text="{Binding TicketCategory}"
                                    FontSize="12"
                                    Style="{StaticResource MyTextblock}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Problema: "
                                    FontSize="12"
                                    FontFamily="{StaticResource MontserratRegular}"
                                    Style="{StaticResource MyTextblock}"/>

                                <TextBlock Text="{Binding TicketProblem}"
                                    FontSize="12"
                                    Style="{StaticResource MyTextblock}"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="10">
                        <TextBlock Text="Relatório da Resolução"
                            Style="{StaticResource MyTextblock}"/>


                        <TextBox Text="{Binding Motivo, 
                            UpdateSourceTrigger=PropertyChanged}"
                            Margin="0 5" Height="150"
                            Style="{StaticResource TextBoxBase}"/>

                    </StackPanel>

                    <StackPanel Grid.Row="2" Orientation="Horizontal" 
                        HorizontalAlignment="Right" Margin="10">
                        
                        <Button Content="Cancelar" 
                            Width="auto" 
                            Height="40"
                            Margin="0,0,10,0"
                            BorderThickness="0"
                            Tag="/Images/x.png"
                            helpers:ButtonHelper.HoverBackground="#4FEC0000"
                            Foreground="{StaticResource brush-midnightNavy}"
                            FontFamily="{StaticResource MontserratBold}"
                            Command="{Binding CancelCommand}"
                            Style="{StaticResource ButtonImage}"/>
                        
                        <Button Content="Resolver Chamado" 
                            Width="auto" 
                            Height="40"
                            Background="#4CAF50"
                            Foreground="White"
                            BorderThickness="0"
                            Tag="/Images/circle-check.png"
                            helpers:ButtonHelper.HoverBackground="#BC4CAF50"
                            FontFamily="{StaticResource MontserratBold}"
                            Command="{Binding ResolveTicketCommand}"
                            Style="{StaticResource ButtonImage}"/>

                    </StackPanel>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</UserControl>
